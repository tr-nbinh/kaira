@if (product) {
<div class="mt-5">
    <div class="container">
        <nav class="breadcrumb">
            <a class="breadcrumb-item" href="#">Home</a>
            <a class="breadcrumb-item" href="#">Pages</a>
            <span class="breadcrumb-item active" aria-current="page">Shop</span>
        </nav>
    </div>

    <section id="product-detail" class="single-product py-5 no-padding-top">
        <div class="container">
            <div class="row g-5">
                <div class="col-md-7">
                    <div class="row flex-column-reverse flex-lg-row">
                        <div class="col-md-12 col-lg-3">
                            <!-- product-thumbnail-slider -->
                            <div class="swiper product-thumbnail-slider" #thumbSlider>
                                <div class="swiper-wrapper">
                                    @for (img of currentVariant.images; track $index) {
                                    <div class="swiper-slide">
                                        <img [src]="img" alt="" class="thumb-image img-fluid">
                                    </div>
                                    }
                                </div>
                            </div>
                            <!-- / product-thumbnail-slider -->
                        </div>
                        <div class="col-md-12 col-lg-9">
                            <!-- product-large-slider -->
                            <div class="swiper product-large-slider" #largeSlider>
                                <div class="swiper-wrapper">
                                    @for (image of currentVariant.images; track $index) {
                                    <div class="swiper-slide">
                                        <div class="image-zoom" data-scale="2.5"><img [src]="image" alt="product-large"
                                                class="img-fluid">
                                        </div>
                                    </div>
                                    }
                                </div>
                                <div class="swiper-pagination" #swiperPagination></div>
                            </div>
                            <!-- / product-large-slider -->
                        </div>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="product-info">
                        <div class="element-header">
                            <h2 itemprop="name" class="product-title text-uppercase">{{product.name}}</h2>
                            <div class="rating-container d-flex align-items-center">
                                <div class="rating">
                                    <svg width="32" height="32">
                                        <use xlink:href="#star-solid"></use>
                                    </svg>
                                </div>
                                <div class="rating">
                                    <svg width="32" height="32">
                                        <use xlink:href="#star-solid"></use>
                                    </svg>
                                </div>
                                <div class="rating">
                                    <svg width="32" height="32">
                                        <use xlink:href="#star-solid"></use>
                                    </svg>
                                </div>
                                <div class="rating">
                                    <svg width="32" height="32">
                                        <use xlink:href="#star-outline"></use>
                                    </svg>
                                </div>
                                <div class="rating">
                                    <svg width="32" height="32">
                                        <use xlink:href="#star-outline"></use>
                                    </svg>
                                </div>
                                <span class="rating-count">(3.5)</span>
                            </div>
                        </div>
                        <div class="product-price">
                            <span class="fs-2">${{currentVariant.price}}</span>
                            <del>${{currentVariant.price}}</del>
                        </div>
                        <p>{{product.description}}.</p>
                        <div class="color-product-options mt-4">
                            <div class="color-toggle">
                                <div class="item-title">{{"COMMON.COLOR" | translate}}:
                                    <span>{{selectedColor?.name}}</span>
                                </div>
                                <div class="d-flex">
                                    @for (color of product.colors; track color.id ) {
                                    <div class="form-check">
                                        <label class="form-check-label" [for]="'color-id-' + color.id">
                                            <input class="form-check-input" type="radio" name="color-option"
                                                [id]="'color-id-' + color.id" [checked]="color.checked"
                                                (change)="onColorChange(color)">
                                            <span class="checkmark" [style.background-color]="color.hexCode"></span>
                                        </label>
                                    </div>
                                    }
                                </div>
                            </div>
                        </div>
                        @if (product.sizes && product.sizes.length) {
                        <div class="swatch d-flex flex-wrap option-1 mt-4">

                            <div class="item-title">{{"COMMON.SIZE" | translate}}:</div>
                            @for (size of product.sizes; track size.id) {
                            <div class="swatch-element">
                                <input class="swatch-input hide" id="small-size" type="radio" name="option-1" value="S">
                                <label class="swatch-label square-only" for="small-size">{{size.name}}</label>
                            </div>
                            }
                        </div>
                        }
                        <div class="product-action mt-4">
                            <div class="item-title">{{"SHOP.IN_STOCK" |
                                translate:{quantity:currentVariant.quantity} }}</div>
                            <div class="product-quantity d-flex flex-wrap">
                                <div class="input-group product-qty me-3" style="max-width: 150px;">
                                    <span class="input-group-btn">
                                        <button type="button" class="quantity-left-minus btn btn-light btn-number"
                                            (click)="decreaseQuantity()">
                                            <svg width="16" height="16">
                                                <use xlink:href="#minus"></use>
                                            </svg>
                                        </button>
                                    </span>
                                    <input type="text" id="quantity" name="quantity"
                                        class="form-control input-number text-center" min="1"
                                        [(ngModel)]="selectedQuantity">
                                    <span class="input-group-btn">
                                        <button type="button" class="quantity-right-plus btn btn-light btn-number"
                                            (click)="increaseQuantity()">
                                            <svg width="16" height="16">
                                                <use xlink:href="#plus"></use>
                                            </svg>
                                        </button>
                                    </span>
                                </div>
                                <ng-container *appLoadingToggle="'cart-' + currentVariant.id">
                                    <button class="btn btn-dark btn-lg text-uppercase me-3" (click)="addToCart()">
                                        <span id="add-to-cart">{{"COMMON.ADD_TO_CART" | translate}}</span>
                                    </button>
                                </ng-container>
                                <ng-container *appLoadingToggle="'wishlist-' + currentVariant.id">
                                    <button class="btn btn-dark bg-dark" (click)="addToWishlist()">
                                        @if (product.isFavorite) {
                                        <svg width="24" height="24" viewBox="0 0 24 24" class="is-wishlisted">
                                            <use xlink:href="#heart-filled"></use>
                                        </svg>

                                        } @else {
                                        <svg width="24" height="24" viewBox="0 0 24 24">
                                            <use xlink:href="#heart"></use>
                                        </svg>
                                        }
                                    </button>
                                </ng-container>
                                <div class="cate-links d-flex flex-column mt-4">
                                    <div class="cate-tag d-flex mb-3">
                                        <div>{{"COMMON.CATEGORY" | translate}}:</div>
                                        <div class="tag-item d-flex">
                                            @for (category of product.categories; track $index) {
                                            <a href="#"> {{category}}</a>,
                                            }
                                            <!-- <a href="#"> Women</a>, <a href="#"> Dresses</a>, <a href="#">
                                                {{product.category}}</a> -->
                                        </div>
                                    </div>
                                    <div class="social-links d-flex align-items-center gap-2 mb-3">
                                        <div> {{"COMMON.SHARE" | translate}}:</div>
                                        <ul class="list-unstyled d-flex gap-2 m-0 lh-1">
                                            <li>
                                                <a href="#" class="text-secondary p-0">
                                                    <svg width="18" height="18">
                                                        <use xlink:href="#facebook"></use>
                                                    </svg>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="text-secondary p-0">
                                                    <svg width="18" height="18">
                                                        <use xlink:href="#twitter"></use>
                                                    </svg>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="text-secondary p-0">
                                                    <svg width="18" height="18">
                                                        <use xlink:href="#youtube"></use>
                                                    </svg>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="text-secondary p-0">
                                                    <svg width="18" height="18">
                                                        <use xlink:href="#pinterest"></use>
                                                    </svg>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="text-secondary p-0">
                                                    <svg width="18" height="18">
                                                        <use xlink:href="#instagram"></use>
                                                    </svg>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
}